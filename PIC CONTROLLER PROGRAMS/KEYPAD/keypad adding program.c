#include<pic.h>
#define _XTAL_FREQ 400000
void address(int x);
void LCD(int a,int b);
void pulse()
{
RB2=1;
__delay_ms(1000);
RB2=0;
__delay_ms(1000);
}
void address(int y)
{
RB0=0;RB1=0;
PORTA=y;
pulse();
}
void LCD(int a,int b)
{
RB0=b;RB1=0;
PORTA=a;
pulse();
}
void main()
{
int flag=0,count=0,count1=0,x;
TRISA=0x00;
PORTA=0x00;
TRISB=0x00;
PORTB=0x00;
TRISC=0x78;
PORTC=0x00;
ANSEL=0x00;ANSELH=0x00;
LCD(0x38,0);
LCD(0x0E,0);
while(1)
{
if(flag==0)
{
x=0x80;
}
if(flag==1)
{
x=0x8f;
}
if(flag==0)
{
RC1=0;RC2=0;RC0=1;
if(RC3==1)
{
address(x);
LCD(0x31,1);
count=0x31;
}
if(RC4==1)
{
address(x);
LCD(0x34,1);
count=0x34;
}
if(RC5==1)
{
address(x);
LCD(0x37,1);
count=0x37;
}
RC0=0;RC2=0;RC1=1;
if(RC3==1)
{
address(x);
LCD(0x32,1);
count-0x32;
}
if(RC4==1)
{
address(x);
LCD(0x35,1);
count=0x35;
}
if(RC5==1)
{
address(x);
LCD(0x38,1);
count=0x38;
}
if(RC6==1)
{
address(x);
LCD(0x30,1);
count=0x30;
}
RC1=0;RC0=0;RC2=1;
if(RC3==1)
{
address(x);
LCD(0x33,1);
count=0x33;
}
if(RC4==1)
{
address(x);
LCD(0x36,1);
count=0x36;
}
if(RC5==1)
{
address(x);
LCD(0x39,1);
count=0x39;
}
}
RC1=0;RC0=0;RC2=1;
if(RC6==1)
{
flag=1;
}
if(flag==1)
{
RC1=0;RC2=0;RC0=1;
if(RC3==1)
{
address(x);
LCD(0x31,1);
count1=0x31;
}
if(RC4==1)
{
address(x);
LCD(0x34,1);
count1=0x34;
}
if(RC5==1)
{
address(x);
LCD(0x37,1);
count1=0x37;
}
RC0=0;RC2=0;RC1=1;
if(RC3==1)
{
address(x);
LCD(0x32,1);
count1=0x32;
}
if(RC4==1)
{
address(x);
LCD(0x35,1);
count1=0x35;
}
if(RC5==1)
{
address(x);
LCD(0x38,1);
count1=0x38;
}
if(RC6==1)
{
address(x);
LCD(0x30,1);
count1=0x30;
}
RC1=0;RC0=0;RC2=1;
if(RC3==1)
{
address(x);
LCD(0x33,1);
count1=0x33;
}
if(RC4==1)
{
address(x);
LCD(0x36,1);
count1=0x36;
}
if(RC5==1)
{
address(x);
LCD(0x39,1);
count1=0x39;
}
}
RC1=0;RC2=0;RC0=1;
if(RC6==1)
{
address(0xc7);
LCD((count+count1)+0x30,1);
}
}
}


