#include<pic.h>
#define _XTAL_FREQ 400000
void fun(char *name);
void pulse()
{
RB2=1;
__delay_ms(1000);
RB2=0;
__delay_ms(1000);
}
void LCD(int a,int b)
{
RB0=b;RB1=0;
PORTA=a;
pulse();
}
void fun( char *name)
{
RB0=1;RB1=0;
while(*name)
{
PORTA=*name++;
pulse();
}
}
void main()
{
int count=0;
TRISA=0x00;
PORTA=0x00;
TRISB=0x00;
PORTB=0x00;
TRISC=0x78;
PORTC=0x00;
ANSEL=0x00;ANSELH=0x00;
LCD(0x38,0);
LCD(0x0E,0);
LCD(0x80,0);
while(1)
{
{
RC1=0;RC2=0;RC0=1;
if(RC3==1)
{
LCD(0x31,1);
while(RC3==1);
count++;
}
if(RC4==1)
{
LCD(0x34,1);
while(RC4==1);
count++;
}
if(RC5==1)
{
LCD(0x37,1);
while(RC5==1);
count++;
}
RC0=0;RC2=0;RC1=1;
if(RC3==1)
{
LCD(0x32,1);
while(RC3==1);
count++;
}
if(RC4==1)
{
LCD(0x35,1);
while(RC4==1);
count++;
}
if(RC5==1)
{
LCD(0x38,1);
while(RC5==1);
count++;
}
if(RC6==1)
{
LCD(0x30,1);
while(RC6==1);
count++;
}
RC1=0;RC0=0;RC2=1;
if(RC3==1)
{
LCD(0x33,1);
while(RC3==1);
count++;
}
if(RC4==1)
{
LCD(0x36,1);
while(RC4==1);
count++;
}
if(RC5==1)
{
LCD(0x39,1);
while(RC5==1);
count++;
}
if(RC6==1)
{
LCD(0x23,1);
while(RC6==1);
count++;
}
}
RC1=0;RC2=0;RC0=1;
if(RC6==1)
{
if(count==10)
{
LCD(0xc0,0);
fun("calling");
}
if(count!=10)
{
LCD(0xc0,0);
fun("Not valid");
}
}
}
}